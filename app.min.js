var x=this&&this.S||function(b,a){function f(){this.constructor=b}for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)},y=function(){function b(a,f){this.x=a;this.y=f;this.type=0;this.b=.7759575122}b.prototype.A=function(){var a=new b(this.x,this.y);a.type=this.type;a.b=this.b;return a};b.prototype.m=function(a){var f=this.x,c=this.y;return new b(f+.5*(a.x-f),c+.5*(a.y-c))};b.prototype.toString=function(){return"{ "+this.x+", "+this.y+
" }"};b.prototype.add=function(a){var f=this.A();f.x+=a.x;f.y+=a.y;return f};return b}(),B=function(){function b(){this.a=[]}b.prototype.add=function(a){this.a.push(a)};b.prototype.l=function(a,f){this.a.push(new y(a,f))};b.prototype.style=function(a,f){this.stroke=a;this.fill=f};b.prototype.D=function(a){void 0===a&&(a=1);for(var f=new b,c=0,e=this.a;c<e.length;c++){var d=e[c],g=z(d);g.x=a-d.x;f.add(g)}f.stroke=this.stroke;f.fill=this.fill;f.filter=this.filter;return f};b.prototype.c=function(a){void 0===
a&&(a=this.a);var f="";if(2>a.length)return f;for(var c=0;c<a.length;c++){var b=a[c%a.length],d=a[(c+1)%a.length],g=a[(c+2)%a.length];0==c&&(f+="M "+(b.x+d.x)/2+" "+(b.y+d.y)/2);f+=" C  "+(b.x+d.b*(d.x-b.x))+" "+(b.y+d.b*(d.y-b.y))+" "+(g.x+d.b*(d.x-g.x))+" "+(g.y+d.b*(d.y-g.y))+" "+(d.x+g.x)/2+" "+(d.y+g.y)/2}return'<path d="'+(f+"Z")+'" '+(this.fill?'fill="'+this.fill+'"':"")+(this.filter?'filter="'+this.filter+'"':"")+"/>"};b.prototype.H=function(a){for(var f in this.a)this.a[f].b=a[f]};return b}(),
C=function(b){function a(){b.call(this)}x(a,b);a.prototype.o=function(a,c,b,d,g,n,k,p){this.a=[];this.add(new y(.5,c));this.add(new y(b,d));this.add(new y(g,n));this.add(new y(.5,p));return this};a.prototype.G=function(a){this.a=a.slice();this.a[0].x=.5;this.a[this.a.length-1].x=.5;return this};a.prototype.c=function(){for(var a=this.a.slice(),c=a.length-1;0<c;c--){var e=z(a[c]);e.x=1-e.x;a.push(e)}return b.prototype.c.call(this,a)};return a}(B),D=function(){function b(a,f){void 0===a&&(a=0);void 0===
f&&(f=0);this.x=a;this.y=f}b.prototype.F=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.prototype.B=function(){var a=this.F();return new b(this.x/a,this.y/a)};b.prototype.L=function(a){return new b(this.x*a,this.y*a)};b.prototype.h=function(){return new b(-this.y,this.x)};return b}(),E=function(){function b(a,f,c,b){this.f=a;this.g=f;this.i=c;this.j=b}b.prototype.I=function(a){return new D(this.f+a*(this.i-this.f),this.g+a*(this.j-this.g))};b.prototype.o=function(a,f){var c=(new D(this.i-
this.f,this.j-this.g)).B().h(),b=new B;b.l(this.f-c.x*a,this.g-c.y*a);b.l(this.i-c.x*f,this.j-c.y*f);b.l(this.i+c.x*f,this.j+c.y*f);b.l(this.f+c.x*a,this.g+c.y*a);return b};b.prototype.h=function(){return(new D(this.i-this.f,this.j-this.g)).B().h()};return b}(),F=function(){function b(a,b,c,e,d,g,n,k){this.f=a;this.g=b;this.i=c;this.j=e;this.s=new D;this.u=new D;this.v=new D;this.w=new D;this.s.x=n+3*(c-d)-a;this.s.y=k+3*(e-g)-b;this.u.x=3*(a-2*c+d);this.u.y=3*(b-2*e+g);this.v.x=3*(c-a);this.v.y=
3*(e-b);this.w.x=a;this.w.y=b}b.prototype.eval=function(a){var b=a*a,c=b*a;return new D(this.s.x*c+this.u.x*b+this.v.x*a+this.w.x,this.s.y*c+this.u.y*b+this.v.y*a+this.w.y)};return b}(),M=function(){function b(){this.C=Math.random;this.J=this.K=0}b.prototype.N=function(){for(var a=this.C,b=360*a(),c=.2+.3*a(),e=.3+.3*a(),d=G(H(b,c,e)),g=G(H(360*a(),.6+.3*a(),.5>a()?.2*a():.6+.2*a())),b=G(H(b,2*c,.5*e)),c="",e=0;e<1+6*a();e++){for(var n=new B,k=0;5>k;k++)n.l(.2+.5*a(),a());k=n;n=[];n.push(k.a[0].A());
for(var p=k.a.length,l=0;l<p;l++){var m=k.a[l],h=k.a[(l+1)%p],q=m.m(h);q.b=(m.b+h.b)/2;n.push(q);l<p-1&&n.push(h)}k=new B;Array.prototype.push.apply(k.a,n);n=k;k=I(a,n.a.length,.6,1.5);l=p=n;m=new y(0,0);h=l.a.length;for(q=0;q<h;q++){var r=l.a[q];m.x+=r.x;m.y+=r.y}m.x/=h;m.y/=h;J(p,m,k);n.fill=g;c+=n.c()+"\n";c+=n.D().c()+"\n"}return'\n    <linearGradient id="appendageCol">\n      <stop offset="0%" stop-color="'+b+'" />\n      <stop offset="100%" stop-color="'+b+'" />\n    </linearGradient>\n    <filter id="f1" x="0" y="0">\n      <feGaussianBlur in="SourceGraphic" stdDeviation="'+
(.005+.02*a())+'" />\n    </filter>\n  <pattern id="pattern1"\n           x="0" y="0" width="1" height="1"\n           patternUnits="userSpaceOnUse" >\n\n      <rect x="0" y="0" width="1" height="1" style="stroke: none; fill: '+d+'" />\n      <g filter="url(#f1)">\n      '+c+"\n      </g>\n  </pattern>\n\n"};b.prototype.M=function(){var a=this.C,b=this.P(),c=b[0],e=b[1];this.K=e;var d=e+.4+.3*a(),g=.2+.4*a();this.J=g;for(var n=1+Math.floor(5*a()),b="",k=[],p=0,l=0,m=0;m<n;m++){var h=Math.floor(K(a,
1,10-n/2));k.push(h);h>l&&(l=h);p+=h}var q=[0];k.reduce(function(a,b,c){return q[c+1]=a+b},0);for(var d=(d-e)/p,m=.1+(g-.1)*a(),r=.1+(g-.1)*a(),g=.1+(g-.1)*a(),u=.025+(m-.025)*a(),g=new F(m,0,r,0,g,0,u,0),b=b+this.R(e,g),r=I(a,l+3,.8,1.2),h=K(a,0,1),v=K(a,.5,1.5),u=[0],m=1;m<l+3;m++)u[m]=a()<h?v:0;a=K(a,.5,1.5);for(m=n-1;0<=m;m--){n=k[m];v=q[m];l=[];for(h=0;h<=n;h++){var t=v+h,w=g.eval(t/p).x,t=e+d*t;0==h&&(t=0<m?t-.05:t-.01);h==n&&(t+=.01);l.push(new y(.5-w/2,t))}h=l[0].A();h.x=.5;v=l[l.length-1].A();
v.x=.5;l.splice(0,0,h);l.push(v);h=(new C).G(l);l=r.slice();l[0]=1;l[n]=1;J(h,h.a[0].m(h.a[h.a.length-1]),l);h=L(h,u,a);h.fill="url(#pattern1)";b+=h.c()}e="";for(k=0;k<c.length;k++)e+=c[k].c()+"\n";return e+b};b.prototype.R=function(a,b){var c=Math.random,e="",d=[],g=2+Math.floor(3*c());c();for(var n=b.eval(.2).x/2,k=(190+10*c())*Math.PI/180,p=-60*Math.PI/180/g,l=(10+30*c())*Math.PI/180,l=[-l,l,-l,l,-l],m=.1+.1*c(),c=.005+.02*c(),h=0;h<g;h++){for(var q=m,r=.5-n/2,u=a+.1+.05*h,v=c,t=0;3>t;t++){var w=
k+l[t],A=r+q*Math.cos(w),w=u+q*Math.sin(w),r=(new E(r,u,A,w)).o(v,v/2);r.H([1,1,1,1,1]);r.fill="url(#appendageCol)";d.push(r);r=A;u=w;q*=.7;v/=2}k+=p}for(g=d.length-1;0<=g;g--)e+=d[g].c(),e+=d[g].D(1).c();return e};b.prototype.O=function(){var a=this.C,b;a:{b=[1,2,3];for(var c=[6,4,1],e=[c[0]],d=c.length,g=1;g<d;g++)e[g]=e[g-1]+c[g];g=e[d-1];c=a()*g;for(g=0;g<d;g++)if(c<e[g]){b=b[g];break a}b=b[d-1]}if(0==b)return"";var e=this.K+.025,d=.5-this.J/6*a(),g="",c=.85-e,n=K(a,100,140),k=K(a,.09,.2)/[1,
1,1.25,1.5][b],k=K(a,k/2,k),p=K(a,.7,1.05),l=K(a,20,40),m=[.7759575122,.7759575122,.7759575122,.7759575122],h=a();.3>h?m[1]=.65+.5*a():.6>h&&(m[2]=.65+.5*a());a=[1,.5+.9*a(),.5+.9*a(),1];for(h=0;h<b;h++){for(var q=n*Math.PI/180,r=q=(new E(d,e,d+Math.cos(q)*c,e+Math.sin(q)*c)).o(k/3,k),u=new y(d,e),v=a,t=r.a.length,w=0;w<t;w++){var A=r.a[w];A.x=u.x+(A.x-u.x)*v[w];A.y=u.y+(A.y-u.y)*v[w]}q.H(m);g+=q.c();g+=q.D().c();n+=l;c*=p;k*=p}return g};b.prototype.P=function(){var a=this.C,b=.25+.1*a(),c=b-.2,e=
.1+.2*a();e>1.5*c&&(e=1.5*c);c=(new C).o(.5,.2,.5-e/2,.2,.5-e/2,b,.5,b);if(!(2>=c.a.length)){var d=c.a[1],g=c.a[2];c.a.splice(2,0,new y((d.x+g.x)/2,(d.y+g.y)/2))}d=I(a,5,.5,1.5);d[4]=1;J(c,c.a[0].m(c.a[4]),d);d=[];d.push(z(c.a[0]));for(var g=c.a.length,n=K(a,.7759575122,1.2),k=0;k<g-1;k++){var p=c.a[k],l=c.a[k+1],m=p.m(l),h=new D(l.x-p.x,l.y-p.y),p=h.F(),h=h.B().h(),q=K(a,-.4,.7),m=m.add(h.L(p*q));m.b=n;d.push(m);d.push(l)}c=(new C).G(d);c.fill="url(#pattern1)";for(var d=[],g=.5-((e-.01)/2*a()+.005),
n=.2+.15*(b-.2),k=.05+.3*a(),l=.05+.05*a(),e=Math.floor(2+5*a()),h=new E(g,n,k,l),m=h.h(),p=h.I(.333),h=h.I(.667),q=.25*a()-.125,r=.25*a()-.125,g=new F(g,n,p.x+m.x*q,p.y+m.y*q,h.x+m.x*r,h.y+m.y*r,k,l),a=.01+.01*a(),n=1/e,k=0;k<e;k++)h=k/e,l=a+(1E-4-a)*h,m=a+(1E-4-a)*(h+n),p=g.eval(h),h=g.eval(h+n),l=(new E(p.x,p.y,h.x,h.y)).o(l,m),l.H([1,1,1,1]),l.fill="url(#appendageCol)",d.push(l),d.push(l.D());d.splice(0,0,c);d=d.concat([]);return[d,b]};return b}();window.onload=function(){N()};
function N(){var b=new M,a=b.M();document.getElementById("main").innerHTML=a;a=b.O();document.getElementById("wing").innerHTML=a;b=b.N();document.getElementById("defs").innerHTML=b;b=document.getElementById("save");b.href=URL.createObjectURL(new Blob([document.getElementById("container").innerHTML],{type:"image/svg+xml"}));b.download="insect.svg"}window.my_make=N;function z(b){var a={},f;for(f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);return a}function K(b,a,f){return a+b()*(f-a)}
function J(b,a,f){for(var c=b.a.length,e=0;e<c;e++){var d=b.a[e];d.x=a.x+(d.x-a.x)*f[e];d.y=a.y+(d.y-a.y)*f[e]}}function L(b,a,f){var c=[];c.push(z(b.a[0]));for(var e=b.a.length,d=1;d<e-2;d++){var g=b.a[d],n=b.a[d+1],k=g.m(n),p=new D(n.x-g.x,n.y-g.y),g=p.F(),p=p.B().h(),k=k.add(p.L(g*a[d]));k.b=f;c.push(k);c.push(n)}return(new C).G(c)}function I(b,a,f,c){for(var e=[],d=0;d<a;d++)e.push(K(b,f,c));return e}
function H(b,a,f){var c,e,d;if(0===a)return c=e=f,[c,e,f];b/=60;c=Math.floor(b);e=b-c;b=f*(1-a);d=f*(1-a*e);a=f*(1-a*(1-e));switch(c){case 0:c=f;e=a;f=b;break;case 1:c=d;e=f;f=b;break;case 2:c=b;e=f;f=a;break;case 3:c=b;e=d;break;case 4:c=a;e=b;break;default:c=f,e=b,f=d}return[c,e,f]}function G(b){return"rgb("+O(b[0])+","+O(b[1])+","+O(b[2])+")"}function O(b){b=Math.floor(255*b);0>b&&(b=0);255<b&&(b=255);return b};
