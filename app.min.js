var x=this&&this.R||function(b,a){function e(){this.constructor=b}for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)},y=function(){function b(a,e){this.x=a;this.y=e;this.type=0;this.b=.7759575122}b.prototype.B=function(){var a=new b(this.x,this.y);a.type=this.type;a.b=this.b;return a};b.prototype.w=function(a){var e=this.x,c=this.y;return new b(e+.5*(a.x-e),c+.5*(a.y-c))};b.prototype.toString=function(){return"{ "+this.x+", "+this.y+
" }"};b.prototype.add=function(a){var e=this.B();e.x+=a.x;e.y+=a.y;return e};return b}(),B=function(){function b(){this.a=[]}b.prototype.add=function(a){this.a.push(a)};b.prototype.v=function(a,e){this.a.push(new y(a,e))};b.prototype.style=function(a,e){this.stroke=a;this.fill=e};b.prototype.G=function(a){void 0===a&&(a=1);for(var e=new b,c=0,g=this.a;c<g.length;c++){var d=g[c],f=z(d);f.x=a-d.x;e.add(f)}return e};b.prototype.c=function(a){void 0===a&&(a=this.a);var e="";if(2>a.length)return e;for(var c=
0;c<a.length;c++){var g=a[c%a.length],d=a[(c+1)%a.length],b=a[(c+2)%a.length];0==c&&(e+="M "+(g.x+d.x)/2+" "+(g.y+d.y)/2);e+=" C  "+(g.x+d.b*(d.x-g.x))+" "+(g.y+d.b*(d.y-g.y))+" "+(b.x+d.b*(d.x-b.x))+" "+(b.y+d.b*(d.y-b.y))+" "+(d.x+b.x)/2+" "+(d.y+b.y)/2}return'<path d="'+(e+"Z")+'" />'};b.prototype.H=function(a){for(var e in this.a)this.a[e].b=a[e]};return b}(),C=function(b){function a(){b.call(this)}x(a,b);a.prototype.l=function(a,c,b,d,f,n,l,p){this.a=[];this.add(new y(.5,c));this.add(new y(b,
d));this.add(new y(f,n));this.add(new y(.5,p));return this};a.prototype.D=function(a){this.a=a.slice();this.a[0].x=.5;this.a[this.a.length-1].x=.5;return this};a.prototype.c=function(){for(var a=this.a.slice(),c=a.length-1;0<c;c--){var g=z(a[c]);g.x=1-g.x;a.push(g)}return b.prototype.c.call(this,a)};return a}(B),D=function(){function b(a,e){void 0===a&&(a=0);void 0===e&&(e=0);this.x=a;this.y=e}b.prototype.C=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.prototype.A=function(){var a=this.C();
return new b(this.x/a,this.y/a)};b.prototype.L=function(a){return new b(this.x*a,this.y*a)};b.prototype.h=function(){return new b(-this.y,this.x)};return b}(),E=function(){function b(a,e,c,b){this.f=a;this.g=e;this.i=c;this.j=b}b.prototype.I=function(a){return new D(this.f+a*(this.i-this.f),this.g+a*(this.j-this.g))};b.prototype.l=function(a,e){var c=(new D(this.i-this.f,this.j-this.g)).A().h(),b=new B;b.v(this.f-c.x*a,this.g-c.y*a);b.v(this.i-c.x*e,this.j-c.y*e);b.v(this.i+c.x*e,this.j+c.y*e);b.v(this.f+
c.x*a,this.g+c.y*a);return b};b.prototype.h=function(){return(new D(this.i-this.f,this.j-this.g)).A().h()};return b}(),F=function(){function b(a,e,c,b,d,f,n,l){this.f=a;this.g=e;this.i=c;this.j=b;this.m=new D;this.o=new D;this.s=new D;this.u=new D;this.m.x=n+3*(c-d)-a;this.m.y=l+3*(b-f)-e;this.o.x=3*(a-2*c+d);this.o.y=3*(e-2*b+f);this.s.x=3*(c-a);this.s.y=3*(b-e);this.u.x=a;this.u.y=e}b.prototype.eval=function(a){var b=a*a,c=b*a;return new D(this.m.x*c+this.o.x*b+this.s.x*a+this.u.x,this.m.y*c+this.o.y*
b+this.s.y*a+this.u.y)};return b}(),K=function(){function b(){this.F=Math.random;this.J=this.K=0}b.prototype.M=function(){var a=this.F,b=this.O(),c=b[0],g=b[1];this.K=g;var d=g+.4+.3*a(),f=.2+.4*a();this.J=f;for(var n=1+Math.floor(5*a()),b="",l=[],p=0,k=0,m=0;m<n;m++){var h=Math.floor(G(a,1,10-n/2));l.push(h);h>k&&(k=h);p+=h}var q=[0];l.reduce(function(a,b,c){return q[c+1]=a+b},0);for(var d=(d-g)/p,m=.1+(f-.1)*a(),r=.1+(f-.1)*a(),f=.1+(f-.1)*a(),u=.025+(m-.025)*a(),f=new F(m,0,r,0,f,0,u,0),b=b+this.P(g,
f),r=H(a,k+3,.8,1.2),h=G(a,0,1),v=G(a,.5,1.5),u=[0],m=1;m<k+3;m++)u[m]=a()<h?v:0;a=G(a,.5,1.5);for(m=n-1;0<=m;m--){n=l[m];v=q[m];k=[];for(h=0;h<=n;h++){var t=v+h,w=f.eval(t/p).x,t=g+d*t;0==h&&(t=0<m?t-.05:t-.01);h==n&&(t+=.01);k.push(new y(.5-w/2,t))}h=k[0].B();h.x=.5;v=k[k.length-1].B();v.x=.5;k.splice(0,0,h);k.push(v);h=(new C).D(k);k=r.slice();k[0]=1;k[n]=1;I(h,h.a[0].w(h.a[h.a.length-1]),k);h=J(h,u,a);b+=h.c()}g="";for(l=0;l<c.length;l++)g+=c[l].c()+"\n";return g+b};b.prototype.P=function(a,b){var c=
Math.random,g="",d=[],f=2+Math.floor(3*c());c();for(var n=b.eval(.2).x/2,l=(190+10*c())*Math.PI/180,p=-60*Math.PI/180/f,k=(10+30*c())*Math.PI/180,k=[-k,k,-k,k,-k],m=.1+.1*c(),c=.005+.02*c(),h=0;h<f;h++){for(var q=m,r=.5-n/2,u=a+.1+.05*h,v=c,t=0;3>t;t++){var w=l+k[t],A=r+q*Math.cos(w),w=u+q*Math.sin(w),r=(new E(r,u,A,w)).l(v,v/2);r.H([1,1,1,1,1]);d.push(r);r=A;u=w;q*=.7;v/=2}l+=p}for(f=d.length-1;0<=f;f--)g+=d[f].c(),g+=d[f].G(1).c();return g};b.prototype.N=function(){var a=this.F,b;a:{b=[1,2,3];for(var c=
[6,4,1],g=[c[0]],d=c.length,f=1;f<d;f++)g[f]=g[f-1]+c[f];f=g[d-1];c=a()*f;for(f=0;f<d;f++)if(c<g[f]){b=b[f];break a}b=b[d-1]}if(0==b)return"";var g=this.K+.025,d=.5-this.J/6*a(),f="",c=.85-g,n=G(a,100,140),l=G(a,.09,.2)/[1,1,1.25,1.5][b],l=G(a,l/2,l),p=G(a,.7,1.05),k=G(a,20,40),m=[.7759575122,.7759575122,.7759575122,.7759575122],h=a();.3>h?m[1]=.65+.5*a():.6>h&&(m[2]=.65+.5*a());a=[1,.5+.9*a(),.5+.9*a(),1];for(h=0;h<b;h++){for(var q=n*Math.PI/180,r=q=(new E(d,g,d+Math.cos(q)*c,g+Math.sin(q)*c)).l(l/
3,l),u=new y(d,g),v=a,t=r.a.length,w=0;w<t;w++){var A=r.a[w];A.x=u.x+(A.x-u.x)*v[w];A.y=u.y+(A.y-u.y)*v[w]}q.H(m);f+=q.c();f+=q.G().c();n+=k;c*=p;l*=p}return f};b.prototype.O=function(){var a=this.F,b=.25+.1*a(),c=b-.2,g=.1+.2*a();g>1.5*c&&(g=1.5*c);c=(new C).l(.5,.2,.5-g/2,.2,.5-g/2,b,.5,b);if(!(2>=c.a.length)){var d=c.a[1],f=c.a[2];c.a.splice(2,0,new y((d.x+f.x)/2,(d.y+f.y)/2))}d=H(a,5,.5,1.5);d[4]=1;I(c,c.a[0].w(c.a[4]),d);d=[];d.push(z(c.a[0]));for(var f=c.a.length,n=G(a,.7759575122,1.2),l=0;l<
f-1;l++){var p=c.a[l],k=c.a[l+1],m=p.w(k),h=new D(k.x-p.x,k.y-p.y),p=h.C(),h=h.A().h(),q=G(a,-.4,.7),m=m.add(h.L(p*q));m.b=n;d.push(m);d.push(k)}for(var c=(new C).D(d),d=[],f=.5-((g-.01)/2*a()+.005),n=.2+.15*(b-.2),l=.05+.3*a(),k=.05+.05*a(),g=Math.floor(2+5*a()),h=new E(f,n,l,k),m=h.h(),p=h.I(.333),h=h.I(.667),q=.25*a()-.125,r=.25*a()-.125,f=new F(f,n,p.x+m.x*q,p.y+m.y*q,h.x+m.x*r,h.y+m.y*r,l,k),a=.01+.01*a(),n=1/g,l=0;l<g;l++)h=l/g,k=a+(1E-4-a)*h,m=a+(1E-4-a)*(h+n),p=f.eval(h),h=f.eval(h+n),k=(new E(p.x,
p.y,h.x,h.y)).l(k,m),k.H([1,1,1,1]),d.push(k),d.push(k.G());d.splice(0,0,c);d=d.concat([]);return[d,b]};return b}();window.onload=function(){L()};function L(){var b=new K,a=b.M();document.getElementById("main").innerHTML=a;a=b.N();document.getElementById("wing").innerHTML=a;b=document.getElementById("save");b.href=URL.createObjectURL(new Blob([document.getElementById("container").innerHTML],{type:"image/svg+xml"}));b.download="insect.svg"}window.my_make=L;
function z(b){var a={},e;for(e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a}function G(b,a,e){return a+b()*(e-a)}function I(b,a,e){for(var c=b.a.length,g=0;g<c;g++){var d=b.a[g];d.x=a.x+(d.x-a.x)*e[g];d.y=a.y+(d.y-a.y)*e[g]}}function J(b,a,e){var c=[];c.push(z(b.a[0]));for(var g=b.a.length,d=1;d<g-2;d++){var f=b.a[d],n=b.a[d+1],l=f.w(n),p=new D(n.x-f.x,n.y-f.y),f=p.C(),p=p.A().h(),l=l.add(p.L(f*a[d]));l.b=e;c.push(l);c.push(n)}return(new C).D(c)}
function H(b,a,e,c){for(var g=[],d=0;d<a;d++)g.push(G(b,e,c));return g};
